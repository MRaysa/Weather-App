<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Dashboard - Weather App</title>
  <link rel="stylesheet" href="dashboard.css">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&display=swap" rel="stylesheet">
  <!-- Font Awesome for Hamburger Icon -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</head>

<body>
  <header>
    <!-- Navbar -->
    <nav class="navbar">
      <div class="navbar-container">
        <!-- Logo -->
        <div class="logo">
          <img src="weather-logo.png" alt="Weather App Logo">
        </div>

        <!-- Middle Links -->
        <ul class="nav-links" id="nav-links">
          <li><a href="#" class="active">Home</a></li>
          <li><a href="#">Forecast</a></li>
          <li><a href="#">Settings</a></li>
          <div>
            <button id="lg-btn" class="logout-button">Log Out</button>
          </div>
        </ul>

        <!-- Right Side: Search and Logout -->
        <div class="navbar-right">
          <div class="search-bar">
            <input type="text" placeholder="Search" class="search-input">
          </div>
          <!-- Navbar Right Section (Hidden on Small Screens) -->
          <div>
            <a href="#" class="logout-button">Log Out</a>
          </div>
        </div>

        <!-- Hamburger Icon (Visible on Small Screens) -->
        <div class="hamburger" id="hamburger">
          <i class="fas fa-bars"></i>
        </div>
      </div>
    </nav>
  </header>

  <main>
    <section>
      <!-- Dashboard Container -->
      <div class="dashboard-container">
        <!-- Header Section -->
        <div class="dashboard-header">
          <h1>Welcome Back, User!</h1>
          <p>Here’s the latest weather update for your location.</p>
        </div>

        <!-- Weather Overview Section -->
        <div class="weather-overview">
          <div class="weather-card current-weather">
            <h2>Current Weather</h2>
            <div class="weather-info">
              <div class="weather-icon">
                <img src="sunny.png" alt="Sunny">
              </div>
              <div class="weather-details">
                <p><strong>Location:</strong> New York, NY</p>
                <p><strong>Temperature:</strong> 22°C</p>
                <p><strong>Humidity:</strong> 60%</p>
                <p><strong>Condition:</strong> Sunny</p>
              </div>
            </div>
          </div>

          <div class="weather-card forecast">
            <h2>5-Day Forecast</h2>
            <div class="forecast-days">
              <div class="forecast-day">
                <div class="weather-icon">
                  <img src="Partly Cloudy.png" alt="Partly Cloudy">
                </div>
                <p><strong>Tomorrow</strong></p>
                <p>24°C</p>
                <p>Partly Cloudy</p>
              </div>
              <div class="forecast-day">
                <div class="weather-icon">
                  <img src="Rainy.png" alt="Rainy">
                </div>
                <p><strong>Day 2</strong></p>
                <p>20°C</p>
                <p>Rainy</p>
              </div>
              <div class="forecast-day">
                <div class="weather-icon">
                  <img src="sunny.png" alt="Sunny">
                </div>
                <p><strong>Day 3</strong></p>
                <p>23°C</p>
                <p>Sunny</p>
              </div>
              <div class="forecast-day">
                <div class="weather-icon">
                  <img src="cloudy.png" alt="Cloudy">
                </div>
                <p><strong>Day 4</strong></p>
                <p>19°C</p>
                <p>Cloudy</p>
              </div>
              <div class="forecast-day">
                <div class="weather-icon">
                  <img src="sunny.png" alt="Sunny">
                </div>
                <p><strong>Day 5</strong></p>
                <p>21°C</p>
                <p>Sunny</p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>
  </main>

  <script>
    const hamburger = document.getElementById('hamburger');
    const navLinks = document.getElementById('nav-links');

    hamburger.addEventListener('click', () => {
      navLinks.classList.toggle('active');
    });
    document.addEventListener("DOMContentLoaded", () => {
    fetchWeatherData(1);
});

function fetchWeatherData(locationId) {
    fetch(`http://localhost/get_weather.php?location_id=${locationId}`)
        .then(response => response.json())
        .then(data => {
            if (data.error) {
                console.error("Error:", data.error);
            } else {
                document.querySelector(".weather-details").innerHTML = `
                    <p><strong>Location:</strong> ${data.city_name}</p>
                    <p><strong>Temperature:</strong> ${data.temperature}°C</p>
                    <p><strong>Humidity:</strong> ${data.humidity}%</p>
                    <p><strong>Condition:</strong> ${data.condition_name || 'N/A'}</p>
                `;
            }
        })
        .catch(error => console.error("Fetch error:", error));
}

  </script>
</body>

</html>